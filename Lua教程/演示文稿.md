---
marp: true
theme: default
class: invert
footer: MiniWorld Lua Script Tutorial by OWALabuy
style: |
  .columns {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
  }
    svg[id^="mermaid-"] { 
    min-width: 480px; 
    max-width: 960px; 
    min-height: 360px; 
    max-height: 600px; 
  }
---

<!-- Add this anywhere in your Markdown file -->
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  //import mermaid from 'mermaid.min.js';
  mermaid.initialize({ startOnLoad: true });
</script>

# 迷你世界Lua脚本入门教程

by 异端/世方府/欧阳闻奕

Github: @OWALabuy

UIN: 528278703

---

# 作者简介

**欧阳闻奕**(@OWALabuy), 猫, 二年级学生

迷你世界玩家, Minecraft玩家, 迷你号528278703

异端组织成员, 世方府工作室团伙头目, 异端**轨心夕**(**杀手没有恨**)的小弟

**最没有实力**的音乐玩家, 早期在西瓜视频做生存主播, 后期做音乐地图

---

# 目录

<div class="columns">
<div>

1. 认识Lua语言
2. 环境配置及文本编辑器
3. 变量及数据类型
4. 数值运算
5. 流程控制及布尔值运算
6. 循环

</div>
<div>

7. 字符串操作
8. 表
9. 函数
10. 游戏数据抽象
11. 事件监听器

</div>
</div>

---

<!-- _header: 1. 认识Lua语言-->
# 第一章

认识Lua语言

---

<!-- _header: 1. 认识Lua语言-目录-->

> 1. Lua简介
>       1. 迷你世界脚本的优点
>       2. 运行环境说明
> 2. 消除恐惧

---

<!-- _header: 1.1 Lua简介 -->

# Lua简介

**Lua**（发音： /ˈluːə/，葡萄牙语“月亮”）是一个简洁、轻量、可扩展的脚本语言。Lua有着相对简单的C语言API而很容易嵌入应用中。很多应用程序使用Lua作为自己的嵌入式脚本语言，以此来实现可配置性、可扩展性。(*引自[维基百科](https://zh.wikipedia.org/wiki/Lua)*)

Lua语言是编程语言之一 编程语言是一种与计算机沟通的媒介 通过编程语言 我们可以命令机器按照我们的意图去工作 从而提高自己的工作效率

迷你世界内置了Lua脚本供玩家制作地图逻辑 提供了一系列API 可以实现各种功能 如破坏方块 放置方块 传送玩家等

迷你世界的Lua脚本可以实现强大的功能 有效帮助玩家进行地图创作

---

<!-- _header: 1.1.1 迷你世界脚本的优点 -->

## 迷你世界脚本的优点

相较于触发器 Lua脚本有以下优点:

1. **便于编写**: 脚本只需要一个文本编辑器即可编写 而触发器需要用鼠标点击和拖曳
2. **高效简洁**: 在Lua脚本中 创建变量和赋值只需要一行简单的代码 而在触发器中 需要大量的操作 这种差异尤其体现在大型脚本和复杂的逻辑中
3. **易于复制**: 使用脚本编写的逻辑可以复制到自己的其他地图中使用 或很方便地分享给其他玩家 而触发器不具备跨地图迁移功能
4. **适用于大型项目**: 使用脚本可以写一些大型的工具 *如作者的音乐方块生成器* 可以简化地图创作中的一些繁琐操作 而使用触发器不可以 想象一下 用4000多行代码实现的东西 如果用触发器来做 那得肝到爆

所以 学习脚本绝对是对玩家有利的一件事 可以方便地管理自己的地图逻辑

---

<!-- _header: 1.1.2 运行环境说明 -->

## 运行环境说明

迷你世界有端游和手游 它们都可以运行Lua脚本 但是玩家的编辑体验是不一样的

---

<!-- _header: 1.1.2.1 端游 -->

### 端游

迷你世界桌面版原生支持Windows系统 但是在GNU/Linux和MacOS中也可以通过Wine等兼容层运行

迷你世界端游提供了一个基于HTML的脚本编辑器 支持API参考 代码补全 语法高亮 多光标等功能 但是它有一定的缺点

1. 编辑的代码有一定概率丢失 这个问题 作者遇到过很多次
2. 不能使用自定义插件 如Vim插件 只能用鼠标操作 极其不方便

---

<!-- _header: 1.1.2.2 手游 -->

### 手游

迷你世界手游原生支持Android和IOS系统

手游版本不提供脚本编辑器相关功能 只有一个最基础的界面和一个API提示界面

作者不推荐使用迷你世界原生环境进行代码编写 后续会介绍更多便于使用的代码编辑器

---
<!-- _header: 1.2 消除恐惧-->

# 消除恐惧

在一些人心中 写代码是一种很难的事情 提到代码 就心生恐惧 觉得自己可能学不会 还没有入门就先泄气了

还有一种**错误且广泛**的观点: 写代码一定要英语好 其实根本不是这样的 没有学过英语的人 都可以学会写代码

对于Lua语言 需要记的词只有22个 如下 只要记住这些关键词的用法即可

```lua
and       break   do       else     elseif    end     false    for

function  if      in       local    nil       not     or       repeat

return    then    true     until    while     goto
```

---

<!-- _header: 1.2 消除恐惧-->

在本教程中 作者会尽量使用通俗的语言 详细的演示 生动的比喻来尽量使每一个观众理解那些概念

作者的目标是: 使小学阶段的玩家都能掌握脚本这一工具 所以不会讲特别难特别深入的内容 保证各位可以理解

所以请各位放心 在学完这些内容后 应该可以使用脚本来搭建你的地图逻辑了

<br/>

**我们遇到什么困难 都不要怕 微笑着面对它 消除恐惧的最好办法就是面对恐惧!!!**

**加油! 奥利给!!!!!!!!**

---

<!-- _header: 2. 环境配置及文本编辑器-->

# 第二章

环境配置与文本编辑器

---

<!-- _header: 2. 环境配置及文本编辑器-目录-->

> 1. 迷你世界环境
> 2. 在系统中配置Lua环境
>       1. Linux上的配置
>       2. 使用方法和交互模式
> 3. Visual Studio Code
>       1. vsc安装
>       2. vsc插件
> 4. 手机端可用的软件
>       1. AndroLua+
>       2. dcoder
>       3. vsc网页版

---

<!-- _header: 2.1 迷你世界环境 -->

# 迷你世界环境

迷你世界编辑模式的地图可以使用Lua脚本 步骤如下:

1. 以编辑模式打开一个高级创造模式的地图或老版本的开发者模式的地图
2. 点击"开发者工具"或按下J键
3. 点击"脚本" 高级创造模式下也可以直接按下L键
4. 选中或创建一个脚本组 在其中点击"新建脚本" 这会打开一个界面 可以在其中编写脚本
5. 退出会自动保存你的脚本 并且检查是否有错误 如果有语法错误会弹出一个弹窗
6. 退出脚本编辑界面之后 将右上角的测试调为开 这样在运行的时候可以看到控制台
7. 点击试玩 脚本就会运行

---

<!-- _header: 2.2 在系统中配置Lua环境-->

# 在系统中配置Lua环境

虽然这个教程主要是教大家在迷你世界中使用Lua脚本 但是在游戏中是有很多局限性的 迷你世界在2023年年初禁用了文件io和debug库等功能

Lua不仅可以在游戏中实现很多功能 也可以在各种工作中提高你的效率 作者在这一节中简要讲一下Lua在系统中的配置

---

<!-- _header: 2.2.1 在Linux上的配置-->

## 在Linux上的配置

如果你使用的是Debian系列的发行版 如Ubuntu LinuxMint等 可以使用APT安装Lua环境

```bash
sudo apt install lua5.3
```

安装其他版本的Lua也可以 根据自己的需求安装即可

如果你使用的是其他的Linux发行版 可以采用自己的包管理器进行安装 也可以到Lua官网下载源代码进行编译

---

<!-- _header: 2.2.2 使用方法及交互模式-->

## 使用方法及交互模式

Lua文件的后缀名为`.Lua` 创建一个文件 写入代码 保存退出

使用命令`lua yourfile.lua` 即可在终端运行这个脚本

Lua提供交互模式 可以在终端输入`lua`进入交互模式 ctrl+c退出

---

<!-- _header: 2.3 Visual Studio Code-->

# Visual Studio Code

Visual Studio Code是一个由微软公司开发的文本编辑器 开源跨平台 具有很强的可扩展性 支持多种编程语言 非常适合用来写代码和文档

迷你世界也提供了VSC的插件

本节对VSC的安装和配置做一个详细说明

---

<!-- _header: 2.3.1 vsc安装-->

## vsc安装

在[vsc官网](https://code.visualstudio.com/)下载适合自己系统的软件包 并进行安装(32位的windows系统已经停止支持 可用网页版)

在Linux发行版中 可以在包管理器中安装vsc 如debian系的APT

```bash
sudo apt install code
```

安装完毕后 在终端输入`code` 加上文件名或目录名 可以在vsc中打开这个文件或目录

例如 在当前工作路径下有一个名为`hello.lua`的文件 在终端键入

```bash
code hello.lua
```

即可打开此文件

---

<!-- _header: 2.3.2 vsc插件-->

## vsc插件

安装好了VSC之后 我们需要安装一些必要的插件 以下是几款推荐安装的插件

1. Vim插件
2. Lua插件
3. 迷你世界插件

---

<!-- _header: 2.3.2 vsc插件-->

### vsc应用商店插件

在vsc左侧的边栏中 点击扩展 在应用商店中搜索Lua 安装Lua相关的插件

安装vim插件 以便脱离鼠标编辑文本

### 迷你世界插件

迷你世界官方制作了一款vsc插件 支持一些API的提示 但是这款插件没有在vsc的应用商店中上线 我们需要去开发者学院下载

点击这个url 查看下载和安装的教程 [dev.mini1.cn](https://dev-wiki.mini1.cn/cyclopdeia?wikiMenuId=3&wikiId=2324)

---

<!-- _header: 2.4 手机端可用的软件-->

# 手机端可用的软件

有的小伙伴没有电脑 在手机上也有一些可以编辑代码的软件 本喵在这里推荐几款

大家可以在这些代码编辑软件中写好自己的代码 再粘贴到迷你世界中去

---

<!-- _header: 2.4 手机端可用的软件-->

### AndroLua+

本喵没有用过 不过迷你圈子里有很多手机玩家在用

### dcoder

支持语法高亮 代码补全等 可以云端存储和运行你的代码 每个文件的上限大概是2000行

有webapp和客户端app 如果你安装了客户端app 它会附带一个dcoder输入法 写代码非常方便 但是它不支持中文 如果要在注释中输入中文就需要切换到支持中文的输入法

### vsc网页版

基于web的vsc 支持语法高亮 代码补全等 还可以安装插件 网址:[vsc web](https://vscode.dev)

---

<!-- _header: 3. 变量及数据类型与代码基础 -->

# 第三章

变量及数据类型与代码基础

---

<!-- _header: 3. 变量及数据类型与代码基础-目录 -->

> 1. 变量及其命名规范
> 2. 数据类型
>       1. 数值 number
>       2. 字符串 string
>       3. 布尔值 boolean
>       4. 空值 nil
>       5. 表 table 函数 function
>       6. 获得一个变量的数据类型
> 3. 变量作用域简介
> 4. 注释与代码规范

---

<!-- _header: 3.1 变量及其命名规范 -->

# 变量及其命名规范

在编程语言中 变量就像一个盒子 里面装着对应的值

我们可以简单地定义一个变量

```lua
local myName = "欧阳闻奕"
print(myName)
```

在这段代码中 我们定义了一个名为`myName`的**变量** 并用`=`符号将**字符串**"欧阳闻奕"**赋值**给了它

用比较通俗的方式来表达: 我们制作了一个名为`myName`的**盒子** 将"欧阳闻奕"这个东西**装**了进去 当我们提到那个盒子的名字的时候 实际上指的是里面那个东西

执行这段代码 将会在终端输出 欧阳闻奕

---

<!-- _header: 3.1 变量及其命名规范 -->

## 变量的名字与命名规范

在上一个示例中 我们定义的变量的名字是`myName` 变量的名字和函数的名字被称为**标识符** 其实变量的名字是可以随便起的 只需要遵守以下的规范:

1. 由字母 和/或 数字 和/或 下划线`_`构成
2. 不可以以数字开头

所以 `a` `myName` `my_name` `_my_name` `name2` `name_3`这样的名字都是合法的

而 `2ray` `$meao` `*^$#&^ufaiudf`这样的名字是不合法的

*注: 这里的"合法"指"符合语法规范"*

---

<!-- _header: 3.1 变量及其命名规范 -->

## 变量赋值的方法

Lua支持一次性对多个变量赋值 例如

```Lua
a, b, c = 3, 2, 1
```

该操作会分别将3, 2, 1赋值给变量`a`, `b`, `c`

如果变量的个数大于值的个数 多余的变量会被赋空值`nil`(*后面会在讲数据类型时提到*)

如果值的个数大于变量的个数 多会的值会被忽略

---

<!-- _header: 3.1 变量及其命名规范 -->

如果对一个变量多次赋值 后面的值会将前面的值覆盖掉 示例:

```lua
a = 3
print(a)
a = 4
print(a)
```

运行这段代码 可以看到有两个输出 一个是3 一个是4

---

<!-- _header: 3.1 变量及其命名规范 -->

## 命名惯例

在一个大型项目中 变量名可以达到几百个甚至几千个 如果全用`a` `b` `c`这样的标识符作为它们的名字 后续的编写和维护会变得极其困难 所以 使用清晰易懂的标识符是很有必要的

标识符的命名风格大致分为两种 分别是**下划线命名法** 和 **驼峰命名法**

---

<!-- _header: 3.1 变量及其命名规范 -->

### 下划线命名法

采用下划线连接各单词 例如`my_name` `total_number` `Linux_Is_Not_Unix`

### 驼峰命名法

将除了第一个单词之外的每个单词的第一个字符大写 在某些情况下 第一个单词的开头字符也可以大写

例如 `myName` `MiniWorld` `LinuxIsNotUnix`

---

<!-- _header: 3.2 数据类型  -->

# 数据类型

Lua语言中 总共有8种数据类型 分别是 `number` `string` `boolean` `nil` `table` `function` `userdata` `thread`

在这个教程中 我们会提到前六个数据类型 而在本节 我们只详细讲解前四个

在Lua中 你不需要对变量的数据类型进行显示的指定

变量的数据类型会根据其中的值来确定 你也可以为一个变量先后赋值不同数据类型的数据 以改变它的值

不像C/C++那样对数据类型要求严格的编程语言

---

<!-- _header: 3.2.1 number  -->

## number 数值

在Lua中 `number`类型包括整数和双精度浮点数 也就是小数

如 1314 114.514 -1024等

你可以直接将这些数值赋值给变量

```lua
a = 1314
b = 114.514
c = -1024
```

---

<!-- _header: 3.2.2 string  -->

## string 字符串

字符串是用单引号`'` 双引号`"` 双中括号`[[]]`括起来的一串文字

单行字符串使用单引号或双引号定义 多行字符串使用双中括号定义

```lua
str1 = '我是一个用单引号定义的字符串'
str2 = "我是用双引号定义的 我和单引号定义的没有什么区别 你想用哪个都行 但我是最常见的"
str3 = [[我是用中括号定义的字符串
我可以有
很多行]]
str4 = [==[如果你觉得双中括号不好看或不方便
可以在中括号中间加上数量相等的=号
像我这样]==]
```

---

<!-- _header: 3.2.3 boolean  -->

## boolean 布尔值

布尔值是用来定义真或假的值 它只有两个值 `true`和`false`

在Lua的判断中

空值`nil`和`false`会被判断为假

`true`和其他数据类型会被判断为真

---

<!-- _header: 3.2.4 nil  -->

## nil 空值

空值就代表一个不存在的值 当你尝试去检索一个没有定义过的变量 它会显示为`nil`

当你不想要一个变量了 可以通过将`nil`赋值给它 来删除它

```lua
--两个减号后面的字是注释 不会被看成代码运行 这会在注释那一节中详细讲
--我们没有定义过变量a
print(a) --这会输出nil

--给变量a赋值一个字符串
a = "我是a"
print(a) --这会输出 我是a

--删除a
a = nil
print(a) --这会输出nil
```

---

<!-- _header: 3.2.5 `table` and `function`  -->

## `table` and `function`

这是Lua中比较复杂的数据类型 表和函数

在这一章中暂时不详细讲 后续会有专门的章节介绍这现个数据类型的用法

---

<!-- _header: 3.2.6 获得一个变量的数据类型  -->

## 获得一个变量的数据类型

我们可以使用`type`来获取一个变量或一个值的数据类型 这会返回一个字符串

```lua
local a = '我是一个字符串'
local type_of_a = type(a)
print(type_of_a) --这将输出 string

--对一个没有定义过的变量求类型 会返回"nil"
print(type(awa)) --awa是没有定义过的变量

--同样 也可以对一个值检测数据类型
print(type(114514)) --输出 number
```

---

<!-- _header: 3.3 变量作用域简介 -->

# 变量作用域简介

在定义变量时 我们可以确定一个变量是**局部变量**还是**全局变量**

这可以用关键字`local`实现

```lua
local a = "我是一个局部变量"

b = "我前面没有local 我是全局变量"
```

我们现在还没有讲到复杂的代码结构 各位只需要记住定义即可 在流程控制和循环的章节的应用中 会对变量作用域有比较详细的演示和说明

---

<!-- _header: 3.4 注释与代码规范  -->

# 注释与代码规范

写代码需要遵守一定的代码规范 注释清晰 排版美观的代码不仅可以提高自己的编码效率 减少因为"看不懂自己代码"导致的麻烦 还可以使阅读你代码的人心情愉悦

---

<!-- _header: 3.4.1 注释  -->

# 注释

在代码中插入的用于解释说明的文本称为注释 这些文字会在运行时被忽略掉 不会被视作代码

写代码时使用注释是一个良好的编程习惯 可以解释一些代码的用途 利于后期修改和新增功能

在Lua中 注释分为单行注释和多行注释

---

<!-- _header: 3.4.1.1 单行注释  -->

## 单行注释

在一行中 两个-号后面的文本会被视为注释

```lua
--这是一行注释 在这里写的内容都不会被执行

--注释可以用来解释代码的意图
local a = "awa" --定义了一个变量 存入awa

--注释可以用于使代码不被执行 称为把代码"注释掉"
--print(a)
--把这个print语句注释掉就不会输出东西了
```

---

<!-- _header: 3.4.1.2 多行注释  -->

## 多行注释

多行注释又称块注释 可以是一行或多行 可以采用`--[[ --]]`来框住注释文本

```lua
--[[这里是一个块注释的开头
这些文字都会被注释掉的
这个地方是块注释的结尾
--]]
```
块注释与普通的注释有一个区别 如果你想 它可以插入到代码中而不会占用整行 但是本喵不推荐这样的做法 因为这样会让代码显得很杂乱

```lua
local --[[local是定义变量作用域的关键字 --]] a = 3

--这样写没有问题 但是看起来很乱 大家尽量不要这样写
```

---

<!-- _header: 3.4.1.2 多行注释  -->

在注释很长的代码块时 有可能想要注释的代码已经包含了`--[[--]]`包围的块注释了 这个时候如果还想再在外面套一层块注释 就会出现问题

```lua
--我想从这里开始块注释 但是如果写了--[[ 会与下面四行的结束标识配对 而不能正确与最后的结束标识配对
--[[对玩家显示聊天框系统消息(重构) 参数是字符串和玩家迷你号
规范化参数避免缺参--]]
local function msg(content, UIN)
    if(content and UIN == nil) --检查参数是否完整
    then
        Chat:sendSystemMsg('msg:参数不完整！')
        return 1001
    end
    Trigger:wait(0.1) --一个小的延迟
    if(type(content) ~= "string")--类型转换
    then
        content = tostring(content)
    end
    Chat:sendSystemMsg(content, UIN)
    return 0
end
--在这里的结束标识不会被正确配对
```

---

<!-- _header: 3.4.1.2 多行注释  -->

对于这样的情况 我们可以在两个[[]]之间加上数量相等的=号

```lua
--[=[ 在括号中间加上等号就可以了
--[[对玩家显示聊天框系统消息(重构) 参数是字符串和玩家迷你号
规范化参数避免缺参--]]
local function msg(content, UIN)
    if(content and UIN == nil) --检查参数是否完整
    then
        Chat:sendSystemMsg('msg:参数不完整！')
        return 1001
    end
    Trigger:wait(0.1) --一个小的延迟
    if(type(content) ~= "string")--类型转换
    then
        content = tostring(content)
    end
    Chat:sendSystemMsg(content, UIN)
    return 0
end
--]=]
```

---

<!-- _header: 3.4.2 代码规范  -->

# 代码规范

代码风格一般有三个主要的组成部分 分别是**命名规则** **缩排方式**和**符号处理方式** 这些名词不是专业的名词 只是本喵在编写代码过程中总结出的一些经验

良好的编码风格可以使代码保持美观 便于阅读

命名规则部分 在变量的命名那一节就已经讲过了 所以这一节我们来缩排和符号相关的处理技巧

---

<!-- _header: 3.4.2.1 缩排方式  -->

## 缩排方式

通常 我们将同级的代码写在一个缩进层级上 而将子代码块或子流程缩进一个层级

```lua
local num1 = 10
local num2

if(num2)
then
    print(num1 + num2)
end
```
定义变量的操作和if语句是在同一个执行层级上的 所以它们写在同一个层级上 而print语句是if语句的子流程 所以需要缩进一个层级

一般情况下 选中代码块 按`tab` 或`>` 缩进一个层级 而`shift+tab`或`<`取消缩进
*注: `<` `>`只能在vim中使用*

---

<!-- _header: 3.4.2.2 符号处理方式  -->

## 符号处理方式

在编程中 为了使运算符等符号的书写保持美观 可以遵循以下的规则

- 在运算符的两侧加上空格 `[]`中的符号除外
- 在逗号后加上空格

```lua
--符号前后加上空格
local a = 3
b = a + 3

--逗号后加上空格
local a1, a2, a3 = 3, 4, 5
```

---

<!-- _header: 4. 数值运算 -->

# 第四章 数值运算

---

<!-- _header: 4. 数值运算-目录 -->

> 1. 数值运算符
> 2. 字符串转换方法

---

<!-- _header: 4.1 数值运算符  -->

数值运算符是针对`number`类型的操作符 有如下几种

|符号|名称|备注|
|--|--|--|
|`+`|加||
|`-`|减|也可作负号|
|`*`|乘|$\times$和$\div$不是ascii字符 无法直接通过键盘输入|
|`/`|除|所以乘和除用的是`*`和`/`|
|`%`|取余|对任何精度的数都适用 不要求整数|
|`^`|幂|例如 $3^2$ 在代码中应作`3 ^ 2` 结果为9|
|`//`|整除|Lua5.3后提供 结果会直接舍弃小数部分|

---

<!-- _header: 4.1 数值运算符  -->

## 实例1 数值运算符的使用

以下使用一个小例子来演示每个运算符的用法

```lua
local a, b = 4, 6
print(a + b) -- 10
print(a - b) -- -2
print(a * b) -- 24
print(a / b) -- 0.66666666666667
print(a % b) -- 4
print(a ^ b) -- 4096
print(a // b) --0 请检查自己的lua版本 低于5.3会报错
```

---

<!-- _header: 4.1 数值运算符  -->

## 实例2 倒置四位整数

这里有一个四位数的整数 写代码将其倒置输出

例:

整数为 1314

输出为

```
4
1
3
1
```

---

<!-- _header: 4.1 数值运算符  -->

倒置四位整数 代码

```lua
--定义一个变量存放那个整数
local num = 1024

--分别求其四位
local a = num // 1000 --整除1000求出其最高位
local b = num // 100 % 10 --整除100求出其千位和百位 得到10 再整除10 得到0
local c = num // 10 % 10 --整除10求出其千 百 十位 得到102 再整除10 得到2
local d = num % 10 --整除10得到其最低位

--倒序输出
print(d)
print(c)
print(b)
print(a)
```

---

<!-- _header: 4.2 字符串转换方法 -->

Lua中提供了一些函数 以实现字符串与数值的转换

使用`tonumber()`尝试将字符串转换为数值 如果尝试失败则会得到`nil`

使用`tostring()`可以将大多数类型的数据转换成字符串

```Lua
--将一个字符串转换为数值
local str1 = "-1"
local str1ToNum = tonumber(str1)
--当一个值含有非法字符时 无法转换成数值
local errNum = tonumber("13924awa") --errNum是空值

--将一个其他类型的值转换为字符串
print(tostring(a)) -- a没有被定义过 会得到"nil"
print(tostring(true)) --得到 "true"
```

---

<!-- _header: 5. 流程控制与布尔值运算  -->

# 第五章 流程控制与布尔值运算

---

<!-- _header: 5. 流程控制与布尔值运算-目录  -->

> 1. 流程控制
>       1. 单分支
>       2. 双分支
>       3. 多分支
> 2. 布尔值运算
>       1. 布尔值运算符
>       2. 流程控制时的自动转换
>       3. `or`的特殊用途

---

<!-- _header: 流程控制  -->

# 流程控制

在现实中 我们可能会有这样一些经历:

我想吃鱼 或是猪肉 如果集市上有卖鱼 我就吃鱼 不然我就去买猪肉吃

<div class="mermaid">
graph LR

A(今天吃什么) --> B{市场有没有鱼}
B --有--> C(我买鱼)
B --没有--> D(我买猪肉)

</div>

---

<!-- _header: 6. 循环  -->

# 第六章 循环

----

<!-- _header: 6. 循环-目录  -->

> 1. while循环
> 2. for循环
> 3. repeat...until循环
> 4. break

---

<!-- _header: 7. 字符串操作  -->

# 第七章 字符串操作

---

<!-- _header: 7. 字符串操作-目录  -->

> 1. 求字符串长度
> 2. 转义字符
> 3. 各种常用操作

---

<!-- _header: 8. 表  -->

# 第八章 表

---

<!-- _header: 8. 表-目录 -->

> 1. 表的构造
> 2. 数组形式的表与键值对形式的表
> 3. 字符串作为索引时的语法糖
> 4. 删除表中元素
> 5. 求表的长度
> 6. 遍历一个表
>       1. for
>       2. 迭代器
> 7. 各种常用操作
> 8. 关于表的元素为引用传递的说明
> 
---

<!-- _header: 9. 函数  -->

# 第九章 函数

---

<!-- _header: 9. 函数-目录  -->

> 1. 简介与构造方式
> 2. 参数与返回值
> 3. 操作
> 4. 变量的作用域
> 5. 匿名函数

---

<!-- _header: 10. 游戏数据抽象  -->

# 第十章 游戏数据抽象

---

<!-- _header: 10. 游戏数据抽象-目录  -->

> 1. API
> 2. 坐标系统
> 3. ID
> 4. UIN

---

<!-- _header: 11. 事件监听器  -->

# 第十一章 事件监听器

---

<!-- _header: 11. 事件监听器-目录  -->

> 简介
> 两种主流写法
---

<!-- _header:   -->









